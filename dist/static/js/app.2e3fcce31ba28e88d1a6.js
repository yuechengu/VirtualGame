webpackJsonp([1],{"/6gk":function(e,t){},0:function(e,t){},AvwR:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("7+uW"),r=a("Dd8w"),l=a.n(r),s=[{text:"主页",icon:"el-icon-house",routerName:"Home"},{text:"查询模块",icon:"el-icon-search",subMenus:[{text:"运动员查询",routerName:"QueryGameScore"}]},{text:"比赛模块",icon:"el-icon-menu",subMenus:[{text:"选手注册",routerName:"Registry"},{text:"开始比赛",routerName:"Running"}]},{text:"扩展功能",icon:"el-icon-loading",subMenus:[{text:"比赛回放（开发中）",routerName:""}]}].map(function(e,t){return l()({},e,{subMenus:(e.subMenus||[]).map(function(e,a){return l()({},e,{index:t+"-"+a})}),index:""+t})}),i={data:function(){return{menus:s,activeIndex:""}},watch:{$route:function(e){var t=void 0;this.menus.forEach(function(a){if(a.routerName===e.name)t=a.index;else{var n=a.subMenus.find(function(t){return t.routerName===e.name});n&&(t=n.index)}}),t&&(this.activeIndex=t)}},props:{isMenuCollapse:Boolean},methods:{}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{collapse:e.isMenuCollapse,"default-openeds":["0","1","2"],"default-active":e.activeIndex,"background-color":"#545c64","text-color":"#fff","active-text-color":"#67C23A"}},[e._l(e.menus,function(t){return[t.subMenus&&t.subMenus.length?a("el-submenu",{key:t.index,staticStyle:{outline:"1px solid #545c64"},attrs:{index:t.index}},[a("template",{slot:"title"},[a("i",{class:t.icon}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.text))])]),e._v(" "),a("el-menu-item-group",e._l(t.subMenus,function(t){return a("router-link",{key:t.index,attrs:{tag:"div",to:{name:t.routerName}}},[a("el-menu-item",{attrs:{index:t.index}},[e._v(e._s(t.text))])],1)}),1)],2):a("router-link",{key:t.index,attrs:{index:t.index,tag:"div",to:{name:t.routerName}}},[a("el-menu-item",{staticStyle:{outline:"1px solid #545c64"}},[a("i",{class:t.icon}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.text))])])],1)]})],2)},staticRenderFns:[]};var c={name:"App",data:function(){return{isMenuCollapse:!1}},components:{Menu:a("VU/8")(i,o,!1,function(e){a("VX0n")},null,null).exports}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("el-container",{staticStyle:{border:"1px solid #eee","min-height":"100%"}},[a("el-aside",{staticStyle:{"background-color":"#545c64",width:"auto"}},[a("Menu",{attrs:{isMenuCollapse:e.isMenuCollapse}})],1),e._v(" "),a("el-container",[a("el-header",[a("el-button",{staticStyle:{"font-size":"24px",padding:"5px 8px"},on:{click:function(t){e.isMenuCollapse=!e.isMenuCollapse}}},[a("i",{class:e.isMenuCollapse?"el-icon-s-unfold":"el-icon-s-fold"})])],1),e._v(" "),a("el-main",[a("router-view")],1)],1)],1)],1)},staticRenderFns:[]};var p=a("VU/8")(c,u,!1,function(e){a("gENZ")},null,null).exports,d=a("/ocq"),m={data:function(){return{value:new Date}}},f={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("el-calendar",{scopedSlots:e._u([{key:"dateCell",fn:function(t){var n=t.data;return[a("p",{class:n.isSelected?"is-selected":""},[e._v("\n        "+e._s(n.day.split("-").slice(1).join("-"))+" "+e._s(n.isSelected?"✔️":"")+"\n      ")])]}}]),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)},staticRenderFns:[]};var v=a("VU/8")(m,f,!1,function(e){a("s/9w")},null,null).exports,y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"registry"},[a("h1",[e._v("运动员注册")]),e._v(" "),a("el-form",{ref:"player",attrs:{model:e.player}},[a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("br"),e._v(" "),a("el-input",{model:{value:e.player.name,callback:function(t){e.$set(e.player,"name",t)},expression:"player.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别",prop:"name"}},[a("el-radio-group",{model:{value:e.player.gender,callback:function(t){e.$set(e.player,"gender",t)},expression:"player.gender"}},[a("el-radio",{attrs:{label:"男"}}),e._v(" "),a("el-radio",{attrs:{label:"女"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"年龄",prop:"age"}},[a("br"),e._v(" "),a("el-slider",{attrs:{"show-input":""},model:{value:e.player.age,callback:function(t){e.$set(e.player,"age",t)},expression:"player.age"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"基础速度",prop:"averageSpeed"}},[a("br"),e._v(" "),a("el-slider",{attrs:{step:10,"show-stops":""},model:{value:e.player.averageSpeed,callback:function(t){e.$set(e.player,"averageSpeed",t)},expression:"player.averageSpeed"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"基础负重",prop:"addWeight"}},[a("br"),e._v(" "),a("el-slider",{attrs:{step:10,"show-stops":""},model:{value:e.player.addWeight,callback:function(t){e.$set(e.player,"addWeight",t)},expression:"player.addWeight"}})],1)],1),e._v(" "),a("br"),a("br"),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("player")}}},[e._v("注册")]),e._v(" "),a("el-button",{on:{click:function(t){return e.onReset("player")}}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{type:"info"},on:{click:function(t){return e.backToMain()}}},[e._v("返回")])],1)},staticRenderFns:[]};var h=a("VU/8")({name:"player",data:function(){return{player:{name:"",gender:"",age:0,averageSpeed:0,addWeight:0,gameSpeed:0,winCount:0},alert:""}},methods:{onSubmit:function(e){var t=this;if(this.player.name&&this.player.gender&&this.player.age){var a={name:this.player.name,gender:this.player.gender,age:this.player.age,averageSpeed:this.player.averageSpeed,addWeight:this.player.addWeight,gameSpeed:0,winCount:0};this.$api.playerService.insertPlayer(a).then(function(a){t.$refs[e].resetFields(),1==a.data?t.$message({showClose:!0,message:"成功插入信息",type:"success"}):t.$message({showClose:!0,message:"插入信息失败",type:"warning"})})}else this.$message({showClose:!0,message:"请输入完整信息",type:"error"})},onReset:function(e){this.$refs[e].resetFields(),this.$message({showClose:!0,message:"信息已被重置",type:"warning"})},backToMain:function(){this.$router.push("/")}}},y,!1,function(e){a("wymF")},null,null).exports,b=a("mvHQ"),_=a.n(b),g={data:function(){return{playerOptions:[],mapOptions:{},form:{mapName:"",players:[]},dialogVisible:!1,loading:!1,records:[]}},methods:{startGame:function(){var e=this;this.form.players&&this.form.mapName?(this.dialogVisible=!0,this.loading=!0,console.log(_()(this.form)),this.$api.gameService.startBy(this.form).then(function(t){console.log("This request succeeded! Here is the response of running:"),console.log(t.data),e.records=response.body})):this.$message({showClose:!0,message:"请输入完整信息",type:"error"})},backToMain:function(){this.$router.push("/")},backToRunning:function(){this.dialogVisible=!1},resetRunning:function(){this.form.players=[],this.form.mapName=""},fetchplayers:function(){var e=this;this.$api.playerService.playerList().then(function(t){e.playerOptions=t.data})},fetchMaps:function(){var e=this;this.$api.mapService.mapList().then(function(t){e.mapOptions=t.data})}},created:function(){this.fetchplayers(),this.fetchMaps()}},x={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"running"},[a("h1",[e._v("运动员比赛")]),e._v(" "),a("br"),e._v(" "),a("el-form",{ref:"runningForm",attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"参赛人员"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择选手"},model:{value:e.form.players,callback:function(t){e.$set(e.form,"players",t)},expression:"form.players"}},e._l(e.playerOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"比赛地图"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{"collapse-tags":"",placeholder:"请选择地图"},model:{value:e.form.mapName,callback:function(t){e.$set(e.form,"mapName",t)},expression:"form.mapName"}},e._l(this.mapOptions,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}),1)],1)],1),e._v(" "),a("br"),a("br"),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.startGame()}}},[e._v("开始")]),e._v(" "),a("el-button",{on:{click:function(t){return e.resetRunning()}}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{type:"info"},on:{click:function(t){return e.backToMain()}}},[e._v("返回")]),e._v(" "),a("el-dialog",{attrs:{title:"比赛结果",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.records,"element-loading-text":"比赛进行中，请稍等片刻~","element-loading-spinner":"el-icon-loading"}},[a("el-table-column",{attrs:{prop:"playerId",label:"参赛人ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"league",label:"排名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"gameSpeed",label:"比赛中速度"}}),e._v(" "),a("el-table-column",{attrs:{prop:"gameCommentary",label:"比赛描述"}})],1),e._v(" "),a("br"),a("br"),e._v(" "),a("el-row",[a("el-button",{attrs:{type:"info"},on:{click:function(t){return e.backToRunning()}}},[e._v("返回")])],1)],1)],1)},staticRenderFns:[]};var S=a("VU/8")(g,x,!1,function(e){a("nsB8")},null,null).exports,k={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"playerAll"},[e.alert?a("el-alert",{attrs:{title:e.alert,type:"success"}}):e._e(),e._v(" "),a("h1",[e._v("运动员列表")]),e._v(" "),a("download-excel",{staticClass:"export-excel-wrapper",attrs:{data:e.playerAll,fields:e.player_fields,type:"xls",name:"选手信息.xls"}},[a("el-button",{attrs:{type:"success"}},[e._v("下载.xls格式到本地")])],1),a("br"),e._v(" "),a("el-row",[a("el-input",{attrs:{placeholder:"请输入姓名检索"},model:{value:e.filterInput,callback:function(t){e.filterInput=t},expression:"filterInput"}})],1),e._v(" "),a("el-table",{attrs:{data:e.filterBy(e.playerAll,e.filterInput),"default-sort":{prop:"id",order:"ascending"}}},[a("el-table-column",{attrs:{prop:"id",label:"运动员Id",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"gender",label:"性别",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"age",label:"年龄",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"averageSpeed",label:"比赛速度",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"wincount",label:"获胜次数",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{on:{click:function(a){return e.editTableItem(t.row.id)}}},[e._v("详细")])]}}])})],1),e._v(" "),a("br"),a("br"),e._v(" "),a("el-button",{attrs:{type:"info"},on:{click:function(t){return e.backToMain()}}},[e._v("返回")])],1)},staticRenderFns:[]};var w=a("VU/8")({name:"playerAll",data:function(){return{playerAll:[],player_fields:{"玩家ID":"id","玩家姓名":"name","性别":"gender","比赛速度":"averageSpeed","负重":"addedWeight","最大速度":"maxSpeed","最小速度":"minSpeed","获胜次数":"wincount"},alert:"",filterInput:""}},methods:{fetchplayerAll:function(){var e=this;this.$api.playerService.playerList().then(function(t){e.playerAll=t.data})},filterBy:function(e,t){return e.filter(function(e){return e.name.match(t)})},editTableItem:function(e){this.$router.push({name:"PlayerDetail",params:{id:e}})},backToMain:function(){this.$router.push("/")}},created:function(){this.$route.query.alert&&(this.alert=this.$route.query.alert),this.fetchplayerAll()}},k,!1,function(e){a("AvwR")},null,null).exports,$={name:"playerDetail",data:function(){return{player:"",records:[],json_fields:{"玩家ID":"playerId","游戏日期":"dateOfGame","游戏地图":"gameMapName","名次":"league","比赛速度":"gameSpeed","比赛解说":"gameCommentary"},json_meta:[[{" key ":" charset "," value ":" utf- 8 "}]]}},methods:{fetchplayer:function(e){var t=this;this.$api.playerService.IDfindPlayer(e).then(function(e){t.player=e.data})},fetchRecord:function(e){var t=this;this.$api.gameResultService.participaterInfo(e).then(function(e){t.records=e.data})},deleteplayer:function(e){var t=this;this.$api.playerService.deletePlayer(e).then(function(e){console.log(e),e?t.$router.push({path:"/queryGameScore",query:{alert:"选手删除成功"}}):t.$router.push({path:"/queryGameScore",query:{alert:"选手删除失败"}})})},backToSearch:function(){this.$router.go(-1)}},created:function(){this.fetchplayer(this.$route.params.id),this.fetchRecord(this.$route.params.id)}},C={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"playerDetail"},[a("h1",[e._v("详细信息")]),e._v(" "),a("el-row",[a("el-button",{attrs:{type:"primary",disabled:""}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.deleteplayer(e.player.id)}}},[e._v("删除")]),e._v(" "),a("el-button",{attrs:{type:"info"},on:{click:function(t){return e.backToSearch()}}},[e._v("返回")])],1),e._v(" "),a("el-descriptions",{staticClass:"margin-top",attrs:{title:" ",column:2,border:""}},[a("el-descriptions-item",[a("template",{slot:"label"},[a("i",{staticClass:"el-icon-user"}),e._v("\n        选手ID\n      ")]),e._v("\n      "+e._s(e.player.id)+"\n    ")],2),e._v(" "),a("el-descriptions-item",[a("template",{slot:"label"},[a("i",{staticClass:"el-icon-user"}),e._v("\n        选手名\n      ")]),e._v("\n      "+e._s(e.player.name)+"\n    ")],2),e._v(" "),a("el-descriptions-item",[a("template",{slot:"label"},[a("i",{staticClass:"el-icon-male"}),e._v("\n        性别\n      ")]),e._v("\n      "+e._s(e.player.gender)+"\n    ")],2),e._v(" "),a("el-descriptions-item",[a("template",{slot:"label"},[a("i",{staticClass:"el-icon-watch"}),e._v("\n        年龄\n      ")]),e._v("\n      "+e._s(e.player.age)+"\n    ")],2),e._v(" "),a("el-descriptions-item",[a("template",{slot:"label"},[a("i",{staticClass:"el-icon-tickets"}),e._v("\n        基础速度\n      ")]),e._v("\n      "+e._s(e.player.averageSpeed)+"\n    ")],2),e._v(" "),a("el-descriptions-item",[a("template",{slot:"label"},[a("i",{staticClass:"el-icon-s-goods"}),e._v("\n        基础负重\n      ")]),e._v("\n      "+e._s(e.player.addedWeight)+"\n    ")],2)],1),a("br"),e._v(" "),a("h1",{},[e._v("参赛信息")]),e._v(" "),a("download-excel",{staticClass:"export-excel-wrapper",attrs:{data:e.records,fields:e.json_fields,type:"xls",name:"参赛信息.xls"}},[a("el-button",{attrs:{type:"success"}},[e._v("下载.xls格式到本地")])],1),a("br"),e._v(" "),a("el-table",{attrs:{data:e.records}},[a("el-table-column",{attrs:{prop:"dateOfGame",label:"比赛时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"gameMapName",label:"比赛地图"}}),e._v(" "),a("el-table-column",{attrs:{prop:"league",label:"排名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"gameSpeed",label:"比赛速度"}}),e._v(" "),a("el-table-column",{attrs:{prop:"gameCommentary",label:"比赛讲解"}})],1),a("br"),a("br")],1)},staticRenderFns:[]};var M=a("VU/8")($,C,!1,function(e){a("YTl3")},"data-v-e8021fc8",null).exports;n.default.use(d.a);var R=[{path:"/",component:v,name:"Home"},{path:"/registry",component:h,name:"Registry"},{path:"/running",component:S,name:"Running"},{path:"/queryGameScore",component:w,name:"QueryGameScore"},{path:"/playerDetail/:id",component:M,name:"PlayerDetail"}],I=new d.a({routes:R,mode:"history"}),N=a("mtWM"),P=a.n(N).a.create();P.defaults.headers.post["Content-Type"]="application/json";var T=P,A={searchAllPlayer:"/lishaochenService/player/queryplayer",IDfindPlayer:"/lishaochenService/player/IDfindplayer",insertPlayer:"/lishaochenService/player/insertplayer",deletePlayer:"/lishaochenService/player/deleteplayer",searchAllMap:"/lishaochenService/mapandevent/queryallmap",searchGameResult:"/lishaochenService/gameresult/queryresult",running:"/lixiService/sports/running"},D={playerService:{playerList:function(){return T.get(""+A.searchAllPlayer)},insertPlayer:function(e){return T.post(""+A.insertPlayer,e)},IDfindPlayer:function(e){return T.get(""+A.IDfindPlayer,{params:{id:e}})},deletePlayer:function(e){return T.delete(""+A.deletePlayer,{params:{id:e}})}},mapService:{mapList:function(){return T.get(""+A.searchAllMap)}},gameService:{startBy:function(e){return T.post(""+A.running,_()(e))}},gameResultService:{participaterInfo:function(e){return T.get(""+A.searchGameResult,{params:{id:e}})}}},V=(a("/6gk"),a("8+8L")),q=a("zL8q"),F=a.n(q),E=(a("tvR6"),a("+Rp4"));n.default.prototype.$api=D,n.default.use(F.a),n.default.use(V.a),n.default.use(T),n.default.config.productionTip=!1,n.default.component("downloadExcel",E.a),new n.default({el:"#app",router:I,render:function(e){return e(p)}})},VX0n:function(e,t){},YTl3:function(e,t){},gENZ:function(e,t){},nsB8:function(e,t){},"s/9w":function(e,t){},tvR6:function(e,t){},wymF:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.2e3fcce31ba28e88d1a6.js.map